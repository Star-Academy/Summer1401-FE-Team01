<div class="container">
    <h1>{{ game.name }}</h1>
    <div class="categories">
        <div class="modes">
            <p>ویژگی‌ها</p>

            <ul>
                <li *ngFor="let mode of game.gameModes">
                    <a (click)="searchService.goToSearchPageWithFilter({gameModes: [mode.id]})">{{ mode.name }}</a>
                </li>
            </ul>
        </div>
        <div class="genres">
            <p>ژانر‌ها</p>

            <ul>
                <li *ngFor="let theme of game.genres">
                    <a (click)="searchService.goToSearchPageWithFilter({genres: [theme.id]})">{{ theme.name }}</a>
                </li>
            </ul>
        </div>
    </div>

    <p class="story">{{ game.summary }}</p>

    <div class="rating">
        <app-rating [value]="game.rating / 20"></app-rating>
        <p>{{ game.ratingCount * 100 }} نظر</p>
    </div>

    <iframe
        width="560"
        height="315"
        [src]="game.videos[0].safeUrl"
        [title]="game.videos[0].name"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen
    ></iframe>

    <ul class="screenshot">
        <li *ngFor="let photo of game.screenshots | slice: 0:3">
            <img [src]="'https://images.igdb.com/igdb/image/upload/t_720p/' + photo.id + '.jpg'" alt="کاور بازی" />
        </li>
    </ul>
</div>
